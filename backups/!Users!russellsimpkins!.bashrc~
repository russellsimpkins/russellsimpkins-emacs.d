#!/bin/bash
ulimit -n 10000 # max number of open files
alias buildcms='~/projects/build.sh cms'
alias buildjar='~/projects/build.sh jar'
alias buildwar='~/projects/build.sh war'
alias commerce='cd /Users/russellsimpkins/software/jboss/server/commerce'
alias commercec='cd /Users/russellsimpkins/projects/commerce-ear'
alias du1='cd /Users/russellsimpkins/projects/nytimes/du1'
alias emacs='/Applications/Emacs.app/Contents/MacOS/Emacs -nw'
alias flushcache='dscacheutil -flushcache'
alias gen='cd /Users/russellsimpkins/projects/cms.generator'
alias get.secs='php -r "echo time() . chr(10);"'
alias hogs='du -ckhs * |sort -rn'
alias jboss='cd /Users/russellsimpkins/software/jboss'
alias mactech='cd /Users/russellsimpkins/htdocs/www.mac-tech.net'
alias mysql=/usr/local/mysql/bin/mysql
alias mysqladmin=/usr/local/mysql/bin/mysqladmin
alias port='sudo port'
alias reloadbashrc='. ~/.bashrc'
alias showcms='~/projects/build.sh show-cms'
alias showjar='~/projects/build.sh show-jar'
alias showwar='~/projects/build.sh show-war'
alias sshct='ssh -i ~/.ssh/id_russ cttech@cttechhosting.net $@'
alias sshld='ssh -i ~/.ssh/id_russ cttech@localdev'
alias sshpig='ssh -i ~/.ssh/id_russ sysop@pigspigot.com'
alias sshlpig='ssh -i ~/.ssh/id_russ cttech@lpigs.com'
alias sshtrish='ssh -i ~/.ssh/id_russ sysop@www.trishmcevoy.com'
alias start-mysql='sudo /Library/StartupItems/MySQLCOM/MySQLCOM start'
alias start='~/projects/build.sh start'
alias stop-mysql='sudo /Library/StartupItems/MySQLCOM/MySQLCOM stop'
alias stop='~/projects/build.sh stop'
alias svn='/opt/local/bin/svn'
alias secure-mount='/Applications/TrueCrypt.app/Contents/MacOS/TrueCrypt --keyfiles=/Users/russellsimpkins/tc-keyfile ~/Dropbox/personal-stuff/russ-stuff /Volumes/personal-stuff'
alias secure-umount='/Applications/TrueCrypt.app/Contents/MacOS/TrueCrypt -d --keyfiles=/Users/russellsimpkins/tc-keyfile ~/Dropbox/personal-stuff/russ-stuff /Volumes/personal-stuff'
alias tailit='tail -f /tmp/log4j.log'
alias tailj='tail -f /Users/russellsimpkins/software/jboss/server/commerce/log/jboss.log'
alias tailjs='tail -f /Users/russellsimpkins/software/jboss/server/commerce/log/server.log'
alias tailm='tail -f /Users/russellsimpkins/workspace/sonic_platform_prototype/log/mongrel.9000.log'
alias tailp='tail -f /Users/russellsimpkins/workspace/pigspigot_local/tomcat6/bin/logs/pigspigot.log'
alias tails='tail -f /Users/russellsimpkins/software/jboss/server/show/log/jboss.log'
alias tailt='tail -f /Users/russellsimpkins/projects/cms.generator/jakarta-tomcat-5.5.9/logs/catalina.out'
alias vi='emacs'
######## NYTIMES
user=russell.simpkins

alias nyt.cddu1='cd ~/projects/nytimes/du1'
alias nyt.deploy='ssh -i ~/.ssh/nytimes_id_rsa ${user}@deploy.prvt.nytimes.com'
alias nyt.dev='ssh -i ~/.ssh/nytimes_id_rsa ${user}@du1.qprvt.nytimes.com'
alias nyt.app1='ssh -i ~/.ssh/nytimes_id_rsa ${user}@app1.prvt.nytimes.com'
alias nyt.devproc='ssh -i ~/.ssh/nytimes_id_rsa russell.simpkins@k2proc1.qprvt.nytimes.com'


alias nyt.du1='ssh -i ~/.ssh/nytimes_id_rsa russell.simpkins@du1.qprvt.nytimes.com'
alias nyt.mdu1='~/projects/nytimes/mount-du1'
alias nyt.mk2proc1='~/projects/nytimes/mount-k2proc1'
alias nyt.mqnfs1='~/projects/nytimes/mount-qnfs1'

alias nyt.sdu1='ssh -i ~/.ssh/id_russ dev@du1.prvt.nytimes.com'
alias nyt.sdu1cache='ssh -i ~/.ssh/id_russ dev@du1.cache.prvt.nytimes.com'
alias nyt.sdu1slayer='ssh -i ~/.ssh/id_russ dev@du1.slayer.prvt.nytimes.com'
alias nyt.sdu2='ssh -i ~/.ssh/id_russ dev@du2.prvt.nytimes.com'
alias nyt.sdu2cache='ssh -i ~/.ssh/id_russ dev@du2.cache.prvt.nytimes.com'
alias nyt.sdu2slayer='ssh -i ~/.ssh/id_russ dev@du2.slayer.prvt.nytimes.com'
alias nyt.sdprofile='ssh -i ~/.ssh/id_dsa russell.simpkins@dprofile.prvt.nytimes.com'
alias nyt.sfaststage1='ssh -i ~/.ssh/id_russ fast@faststage1.prvt.nytimes.com'
alias nyt.sk2proc='ssh -i ~/.ssh/webl_id_dsa webl@sk2proc.prvt.nytimes.com'
alias nyt.sk2proc1='ssh -i ~/.ssh/webl_id_rsa webl@k2proc1.prvt.nytimes.com'
alias nyt.sk2app1='ssh -i ~/.ssh/webl_id_rsa webl@k2app1.prvt.nytimes.com'
alias nyt.sdapi='ssh -i ~/.ssh/nytimes_id_rsa russell.simpkins@profileapi1.qprvt.nytimes.com'
alias nyt.sqnfs='ssh -i ~/.ssh/webl_id_rsa tera@qnfs.prvt.nytimes.com'
alias nyt.sqnfs1='ssh -i ~/.ssh/webl_id_rsa tera@qnfs1.prvt.nytimes.com'
alias nyt.sqnfs2='ssh -i ~/.ssh/webl_id_dsa tera@qnfs2.prvt.nytimes.com'
alias nyt.ssqnfs='ssh -i ~/.ssh/webl_id_rsa tera@qnfs.sprvt.nytimes.com'
alias nyt.umdu1='umount ~/projects/nytimes/du1'
alias nyt.umkdproc1='umount ~/projects/nytimes/k2proc1'
alias nyt.umqnfs1='umount ~/projects/nytimes/qnfs1'
alias nyt.wdevproc='ssh -i ~/.ssh/webl_id_dsa webl@k2proc1.qprvt.nytimes.com'

function svnfind() {
    find $1 -type f |sed 's/.*.svn.*//'|awk NF
}
function nyt.scloud() {
    echo "Connecting to $1"
    ssh -i ~/.ssh/id_russ root@$1
}
function ppgrep() {
   echo `ps -ax |grep -i $1 |sed 's/.*grep.*//'|awk '{print $1}'`
}
function startj() {
d=`pwd`
cd /Users/russellsimpkins/software/jboss
bin/run.sh -c commerce > run.log 2>&1 &
cd $d
}
function stopj() {
d=`pwd`
cd /Users/russellsimpkins/software/jboss
bin/shutdown.sh -S
cd $d
}
function starts() {
d=`pwd`
cd /Users/russellsimpkins/software/jboss
bin/run.sh -c show 2>&1 | logger -p daemon.notice -t ${0##*/}[$$] &
cd $d
}
function stops() {
d=`pwd`
cd /Users/russellsimpkins/software/jboss
bin/shutdown.sh -S
cd $d
}
function startp() {
d=`pwd`
cd /Users/russellsimpkins/workspace/pigspigot_local/tomcat6/bin
./startup.sh 
cd $d
}
function stopp() {
d=`pwd`
cd /Users/russellsimpkins/workspace/pigspigot_local/tomcat6/bin
./shutdown.sh
rm -f ../logs/*
cd $d
}
function sshec2() {
ssh -i  ~/Documents/projects/amazon-ec2/id-ec2-cttech root@$1
}
function scpec2() {
scp -i ~/Documents/projects/amazon-ec2/id-ec2-cttech $1 root@$2:/mnt
}
function buildpig() {
    d=`pwd`
    cd /Users/russellsimpkins/workspace/pigspigot_local
    if [ "x" != "x${1}" ]; then
        echo "stopping"
        stopp
    fi
    
    mvn -P dev -o $1 package
    
    if [ "x" != "x${1}" ]; then
        startp
    fi
    echo "starting"
    cd $d
}
